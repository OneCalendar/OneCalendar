(function(){var b=Function.prototype.call,a=Object.prototype,g=Array.prototype.slice,j,h;if(!Function.prototype.bind)Function.prototype.bind=function(b){var e=this;if("function"!=typeof e)throw new TypeError;var o=g.call(arguments,1),d=function(){if(this instanceof d){var c=function(){};c.prototype=e.prototype;var c=new c,a=e.apply(c,o.concat(g.call(arguments)));return null!==a&&Object(a)===a?a:c}return e.apply(b,o.concat(g.call(arguments)))};return d};h=b.bind(a.toString);j=b.bind(a.hasOwnProperty);
if(!Array.isArray)Array.isArray=function(b){return"[object Array]"==h(b)};if(!Array.prototype.forEach)Array.prototype.forEach=function(b,e){var c=m(this),d=0,a=c.length>>>0;if("[object Function]"!=h(b))throw new TypeError;for(;d<a;)d in c&&b.call(e,c[d],d,c),d++};if(!Array.prototype.map)Array.prototype.map=function(b,e){var c=m(this),d=c.length>>>0,a=Array(d);if("[object Function]"!=h(b))throw new TypeError;for(var f=0;f<d;f++)f in c&&(a[f]=b.call(e,c[f],f,c));return a};if(!Array.prototype.filter)Array.prototype.filter=
function(b,c){var e=m(this),d=e.length>>>0,a=[];if("[object Function]"!=h(b))throw new TypeError;for(var f=0;f<d;f++)f in e&&b.call(c,e[f],f,e)&&a.push(e[f]);return a};if(!Array.prototype.every)Array.prototype.every=function(b,e){var c=m(this),d=c.length>>>0;if("[object Function]"!=h(b))throw new TypeError;for(var a=0;a<d;a++)if(a in c&&!b.call(e,c[a],a,c))return!1;return!0};if(!Array.prototype.some)Array.prototype.some=function(b,c){var e=m(this),d=e.length>>>0;if("[object Function]"!=h(b))throw new TypeError;
for(var a=0;a<d;a++)if(a in e&&b.call(c,e[a],a,e))return!0;return!1};if(!Array.prototype.reduce)Array.prototype.reduce=function(b){var e=m(this),c=e.length>>>0;if("[object Function]"!=h(b))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var d=0,a;if(2<=arguments.length)a=arguments[1];else{do{if(d in e){a=e[d++];break}if(++d>=c)throw new TypeError;}while(1)}for(;d<c;d++)d in e&&(a=b.call(void 0,a,e[d],d,e));return a};if(!Array.prototype.reduceRight)Array.prototype.reduceRight=function(e){var b=
m(this),c=b.length>>>0;if("[object Function]"!=h(e))throw new TypeError;if(!c&&1==arguments.length)throw new TypeError;var a,c=c-1;if(2<=arguments.length)a=arguments[1];else{do{if(c in b){a=b[c--];break}if(0>--c)throw new TypeError;}while(1)}do c in this&&(a=e.call(void 0,a,b[c],c,b));while(c--);return a};if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c){var b=m(this),e=b.length>>>0;if(!e)return-1;var a=0;1<arguments.length&&(a=p(arguments[1]));for(a=0<=a?a:e-Math.abs(a);a<e;a++)if(a in
b&&b[a]===c)return a;return-1};if(!Array.prototype.lastIndexOf)Array.prototype.lastIndexOf=function(c){var b=m(this),e=b.length>>>0;if(!e)return-1;var a=e-1;1<arguments.length&&(a=p(arguments[1]));for(a=0<=a?a:e-Math.abs(a);0<=a;a--)if(a in b&&c===b[a])return a;return-1};if(!Object.keys){var e=!0,c="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(","),C=c.length,i;for(i in{toString:null})e=!1;Object.keys=function(b){if("object"!=typeof b&&"function"!=
typeof b||null===b)throw new TypeError("Object.keys called on a non-object");var a=[],h;for(h in b)j(b,h)&&a.push(h);if(e)for(h=0;h<C;h++){var d=c[h];j(b,d)&&a.push(d)}return a}}if(!Date.prototype.toISOString)Date.prototype.toISOString=function(){var b,e,c;if(!isFinite(this))throw new RangeError;b=[this.getUTCFullYear(),this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];for(e=b.length;e--;)c=b[e],10>c&&(b[e]="0"+c);return b.slice(0,3).join("-")+"T"+
b.slice(3).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.now)Date.now=function(){return(new Date).getTime()};if(!Date.prototype.toJSON)Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()};b="\t\n\u000b\u000c\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||b.trim()){var b="["+b+"]",w=RegExp("^"+b+b+"*"),f=
RegExp(b+b+"*$");String.prototype.trim=function(){return(""+this).replace(w,"").replace(f,"")}}var p=function(b){b=+b;b!==b?b=-1:0!==b&&b!==1/0&&b!==-(1/0)&&(b=(0<b||-1)*Math.floor(Math.abs(b)));return b},x="a"!="a"[0],m=function(b){if(null==b)throw new TypeError;return x&&"string"==typeof b&&b?b.split(""):Object(b)}})();
(function(b,a){var g=!(!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor);g&&!b.browser.msie&&Object.defineProperty&&Object.prototype.__defineGetter__&&function(){try{var b=document.createElement("foo");Object.defineProperty(b,"bar",{get:function(){return!0}});g=!!b.bar}catch(e){g=!1}b=null}();Modernizr.objectAccessor=!(!(g||Object.prototype.__defineGetter__&&Object.prototype.__lookupSetter__)||b.browser.opera&&!(11<=a.browserVersion));Modernizr.advancedObjectProperties=g;
if(!g||!Object.create||!Object.defineProperties||!Object.getOwnPropertyDescriptor||!Object.defineProperty){var j=Function.prototype.call.bind(Object.prototype.hasOwnProperty);a.objectCreate=function(b,e,c,j){var i;i=function(){};i.prototype=b;i=new i;if(!j&&!("__proto__"in i)&&!Modernizr.objectAccessor)i.__proto__=b;e&&a.defineProperties(i,e);if(c)i.options=jQuery.extend(!0,{},i.options||{},c),c=i.options;i._create&&jQuery.isFunction(i._create)&&i._create(c);return i};a.defineProperties=function(b,
e){for(var c in e)j(e,c)&&a.defineProperty(b,c,e[c]);return b};a.defineProperty=function(b,e,c){if("object"!=typeof c||null===c)return b;if(j(c,"value"))return b[e]=c.value,b;b.__defineGetter__&&("function"==typeof c.get&&b.__defineGetter__(e,c.get),"function"==typeof c.set&&b.__defineSetter__(e,c.set));return b};a.getPrototypeOf=function(b){return Object.getPrototypeOf&&Object.getPrototypeOf(b)||b.__proto__||b.constructor&&b.constructor.prototype};a.getOwnPropertyDescriptor=function(b,e){if("object"!==
typeof b&&"function"!==typeof b||null===b)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object");var c;if(Object.defineProperty&&Object.getOwnPropertyDescriptor)try{return c=Object.getOwnPropertyDescriptor(b,e)}catch(a){}c={configurable:!0,enumerable:!0,writable:!0,value:void 0};var i=b.__lookupGetter__&&b.__lookupGetter__(e),g=b.__lookupSetter__&&b.__lookupSetter__(e);if(!i&&!g){if(!j(b,e))return;c.value=b[e];return c}delete c.writable;delete c.value;c.get=c.set=void 0;if(i)c.get=
i;if(g)c.set=g;return c}}})(jQuery,jQuery.webshims);
(function(b,a,g){var j=a.audio&&a.video,h=!1;if(j)b=document.createElement("video"),a.videoBuffered="buffered"in b,h="loop"in b,g.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(",")),a.videoBuffered||(g.addPolyfill("mediaelement-native-fix",{f:"mediaelement",test:a.videoBuffered,d:["dom-support"]}),g.reTest("mediaelement-native-fix"));jQuery.webshims.register("mediaelement-core",function(b,c,g,i,w){var f=c.mediaelement,p=c.cfg.mediaelement,
x=function(c,a){var c=b(c),d={src:c.attr("src")||"",elem:c,srcProp:c.prop("src")};if(!d.src)return d;var l=c.attr("type");if(l)d.type=l,d.container=b.trim(l.split(";")[0]);else if(a||(a=c[0].nodeName.toLowerCase(),"source"==a&&(a=(c.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),l=f.getTypeForSrc(d.src,a))d.type=l,d.container=l;if(l=c.attr("media"))d.media=l;return d},m=swfobject.hasFlashPlayerVersion("9.0.115"),s=!m&&"postMessage"in g&&j,q=function(){c.ready("mediaelement-swf",
function(){if(!f.createSWF)c.modules["mediaelement-swf"].test=b.noop,c.reTest(["mediaelement-swf"],j)})},o=function(){var a;return function(){!a&&s&&(a=!0,c.loader.loadScript("https://www.youtube.com/player_api"),b(function(){c.polyfill("mediaelement-yt")}))}}(),d=function(){m?q():o();b(function(){c.loader.loadList(["track-ui"])})};c.addPolyfill("mediaelement-yt",{test:!s,d:["dom-support"]});f.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],'audio/ogg;codecs="opus"':"opus","audio/mpeg":["mp2","mp3",
"mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv","f4a","fla"],"application/x-mpegURL":["m3u8","m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8",
"m3u"],"video/MP2T":["ts"]}};f.mimeTypes.source=b.extend({},f.mimeTypes.audio,f.mimeTypes.video);f.getTypeForSrc=function(c,a){if(-1!=c.indexOf("youtube.com/watch?")||-1!=c.indexOf("youtube.com/v/"))return"video/youtube";var c=c.split("?")[0].split("."),c=c[c.length-1],d;b.each(f.mimeTypes[a],function(b,a){if(-1!==a.indexOf(c))return d=b,!1});return d};f.srces=function(c,a){c=b(c);if(a)c.removeAttr("src").removeAttr("type").find("source").remove(),b.isArray(a)||(a=[a]),a.forEach(function(b){var a=
i.createElement("source");"string"==typeof b&&(b={src:b});a.setAttribute("src",b.src);b.type&&a.setAttribute("type",b.type);b.media&&a.setAttribute("media",b.media);c.append(a)});else{var a=[],d=c[0].nodeName.toLowerCase(),f=x(c,d);f.src?a.push(f):b("source",c).each(function(){f=x(this,d);f.src&&a.push(f)});return a}};b.fn.loadMediaSrc=function(c,a){return this.each(function(){a!==w&&(b(this).removeAttr("poster"),a&&b.attr(this,"poster",a));f.srces(this,c);b(this).mediaLoad()})};f.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
f.canThirdPlaySrces=function(c,a){var d="";if(m||s)c=b(c),a=a||f.srces(c),b.each(a,function(b,c){if(c.container&&c.src&&(m&&-1!=f.swfMimeTypes.indexOf(c.container)||s&&"video/youtube"==c.container))return d=c,!1});return d};var v={};f.canNativePlaySrces=function(c,a){var d="";if(j){var c=b(c),l=(c[0].nodeName||"").toLowerCase();if(!v[l])return d;a=a||f.srces(c);b.each(a,function(b,a){if(a.type&&v[l].prop._supvalue.call(c[0],a.type))return d=a,!1})}return d};if(j&&m&&!p.preferFlash){var y=function(a){var d=
a.target.parentNode;!p.preferFlash&&(b(a.target).is("audio, video")||d&&b("source:last",d)[0]==a.target)&&c.ready("mediaelement-swf",function(){setTimeout(function(){if(!b(a.target).closest("audio, video").is(".nonnative-api-active"))p.preferFlash=!0,i.removeEventListener("error",y,!0),b("audio, video").mediaLoad()},20)})};i.addEventListener("error",y,!0);b.webshims.ready("DOM",function(){b("audio, video").each(function(){this.error&&y({target:this})})})}f.setError=function(a,d){d||(d="can't play sources");
b(a).pause().data("mediaerror",d);c.warn("mediaelementError: "+d);setTimeout(function(){b(a).data("mediaerror")&&b(a).trigger("mediaerror")},1)};var z=function(){var b;return function(a,e,l){c.ready(m?"mediaelement-swf":"mediaelement-yt",function(){f.createSWF?f.createSWF(a,e,l):b||(b=!0,d(),z(a,e,l))});!b&&s&&!f.createSWF&&o()}}(),n=function(b,a,c,d,e){c||!1!==c&&a&&"third"==a.isActive?(c=f.canThirdPlaySrces(b,d))?z(b,c,a):e?f.setError(b,!1):n(b,a,!1,d,!0):(c=f.canNativePlaySrces(b,d))?a&&"third"==
a.isActive&&f.setActive(b,"html5",a):e?(f.setError(b,!1),a&&"third"==a.isActive&&f.setActive(b,"html5",a)):n(b,a,!0,d,!0)},E=/^(?:embed|object|datalist)$/i,B=function(a,d){var i=c.data(a,"mediaelementBase")||c.data(a,"mediaelementBase",{}),l=f.srces(a),g=a.parentNode;clearTimeout(i.loadTimer);b.data(a,"mediaerror",!1);if(l.length&&g&&!(1!=g.nodeType||E.test(g.nodeName||"")))d=d||c.data(a,"mediaelement"),n(a,d,p.preferFlash||w,l)};b(i).bind("ended",function(a){var d=c.data(a.target,"mediaelement");
(!h||d&&"html5"!=d.isActive||b.prop(a.target,"loop"))&&setTimeout(function(){!b.prop(a.target,"paused")&&b.prop(a.target,"loop")&&b(a.target).prop("currentTime",0).play()},1)});h||c.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var d=c.defineNodeNameProperty(a,"load",{prop:{value:function(){var b=c.data(this,"mediaelement");B(this,b);j&&(!b||"html5"==b.isActive)&&d.prop._supvalue&&d.prop._supvalue.apply(this,arguments)}}});v[a]=c.defineNodeNameProperty(a,
"canPlayType",{prop:{value:function(c){var d="";j&&v[a].prop._supvalue&&(d=v[a].prop._supvalue.call(this,c),"no"==d&&(d=""));!d&&m&&(c=b.trim((c||"").split(";")[0]),-1!=f.swfMimeTypes.indexOf(c)&&(d="maybe"));return d}}})});c.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var b=this,a=c.data(b,"mediaelementBase")||c.data(b,"mediaelementBase",{});clearTimeout(a.loadTimer);a.loadTimer=setTimeout(function(){B(b);b=null},9)}});g=function(){c.addReady(function(a,d){b("video, audio",
a).add(d.filter("video, audio")).each(function(){b.browser.msie&&8<c.browserVersion&&b.prop(this,"paused")&&!b.prop(this,"readyState")&&b(this).is('audio[preload="none"][controls]:not([autoplay])')?b(this).prop("preload","metadata").mediaLoad():B(this);if(j){var a,d,f=this,g=function(){var a=b.prop(f,"buffered");if(a){for(var c="",d=0,g=a.length;d<g;d++)c+=a.end(d);return c}},i=function(){var a=g();a!=d&&(d=a,b(f).triggerHandler("progress"))};b(this).bind("play loadstart progress",function(b){"progress"==
b.type&&(d=g());clearTimeout(a);a=setTimeout(i,999)}).bind("emptied stalled mediaerror abort suspend",function(b){"emptied"==b.type&&(d=!1);clearTimeout(a)})}})})};a.track?c.defineProperty(TextTrack.prototype,"shimActiveCues",{get:function(){return this._shimActiveCues||this.activeCues}}):b(function(){c.loader.loadList(["track-ui"])});j?(c.isReady("mediaelement-core",!0),g(),c.ready("WINDOWLOAD mediaelement",d)):c.ready("mediaelement-swf",g)})})(jQuery,Modernizr,jQuery.webshims);
jQuery.webshims.register("mediaelement-swf",function(b,a,g,j,h,e){var c=a.mediaelement,C=g.swfobject,i=Modernizr.audio&&Modernizr.video,w=C.hasFlashPlayerVersion("9.0.115"),f=0,g={paused:!0,ended:!1,currentSrc:"",duration:g.NaN,readyState:0,networkState:0,videoHeight:0,videoWidth:0,error:null,buffered:{start:function(b){if(b)a.error("buffered index size error");else return 0},end:function(b){if(b)a.error("buffered index size error");else return 0},length:0}},p=Object.keys(g),x={currentTime:0,volume:1,
muted:!1};Object.keys(x);var m=b.extend({isActive:"html5",activating:"html5",wasSwfReady:!1,_bufferedEnd:0,_bufferedStart:0,_metadata:!1,_durationCalcs:-1,_callMeta:!1,currentTime:0,_ppFlag:h},g,x),s=/^jwplayer-/,q=function(b){if(b=j.getElementById(b.replace(s,"")))return b=a.data(b,"mediaelement"),"third"==b.isActive?b:null},o=function(b){return(b=a.data(b,"mediaelement"))&&"third"==b.isActive?b:null},d=function(a,k){k=b.Event(k);k.preventDefault();b.event.trigger(k,h,a)},v=e.playerPath||a.cfg.basePath+
"jwplayer/"+(e.playerName||"player.swf"),y=e.pluginPath||a.cfg.basePath+"swf/jwwebshims.swf";a.extendUNDEFProp(e.jwParams,{allowscriptaccess:"always",allowfullscreen:"true",wmode:"transparent"});a.extendUNDEFProp(e.jwVars,{screencolor:"ffffffff"});a.extendUNDEFProp(e.jwAttrs,{bgcolor:"#000000"});var z=function(a,k){var J=a.duration;if(!(J&&0<a._durationCalcs)){try{if(a.duration=a.jwapi.getPlaylist()[0].duration,!a.duration||0>=a.duration||a.duration===a._lastDuration)a.duration=J}catch(e){}a.duration&&
a.duration!=a._lastDuration?(d(a._elem,"durationchange"),("audio"==a._elemNodeName||a._callMeta)&&c.jwEvents.Model.META(b.extend({duration:a.duration},k),a),a._durationCalcs--):a._durationCalcs++}},n=function(b,a){3>b&&clearTimeout(a._canplaythroughTimer);if(3<=b&&3>a.readyState)a.readyState=b,d(a._elem,"canplay"),clearTimeout(a._canplaythroughTimer),a._canplaythroughTimer=setTimeout(function(){n(4,a)},4E3);if(4<=b&&4>a.readyState)a.readyState=b,d(a._elem,"canplaythrough");a.readyState=b};c.jwEvents=
{View:{PLAY:function(b){var a=q(b.id);if(a&&!a.stopPlayPause&&(a._ppFlag=!0,a.paused==b.state)){a.paused=!b.state;if(a.ended)a.ended=!1;d(a._elem,b.state?"play":"pause")}}},Model:{BUFFER:function(a){var k=q(a.id);if(k&&"percentage"in a&&k._bufferedEnd!=a.percentage){k.networkState=100==a.percentage?1:2;(isNaN(k.duration)||5<a.percentage&&25>a.percentage||100===a.percentage)&&z(k,a);if(k.ended)k.ended=!1;if(k.duration){2<a.percentage&&20>a.percentage?n(3,k):20<a.percentage&&n(4,k);if(k._bufferedEnd&&
k._bufferedEnd>a.percentage)k._bufferedStart=k.currentTime||0;k._bufferedEnd=a.percentage;k.buffered.length=1;if(100==a.percentage)k.networkState=1,n(4,k);b.event.trigger("progress",h,k._elem,!0)}}},META:function(b,a){if(a=a&&a.networkState?a:q(b.id))if("duration"in b){if(!a._metadata||!((!b.height||a.videoHeight==b.height)&&b.duration===a.duration)){a._metadata=!0;var c=a.duration;if(b.duration)a.duration=b.duration;a._lastDuration=a.duration;if(b.height||b.width)a.videoHeight=b.height||0,a.videoWidth=
b.width||0;if(!a.networkState)a.networkState=2;1>a.readyState&&n(1,a);a.duration&&c!==a.duration&&d(a._elem,"durationchange");d(a._elem,"loadedmetadata")}}else a._callMeta=!0},TIME:function(b){var a=q(b.id);if(a&&a.currentTime!==b.position){a.currentTime=b.position;a.duration&&a.duration<a.currentTime&&z(a,b);2>a.readyState&&n(2,a);if(a.ended)a.ended=!1;d(a._elem,"timeupdate")}},STATE:function(a){var b=q(a.id);if(b)switch(a.newstate){case "BUFFERING":if(b.ended)b.ended=!1;n(1,b);d(b._elem,"waiting");
break;case "PLAYING":b.paused=!1;b._ppFlag=!0;b.duration||z(b,a);3>b.readyState&&n(3,b);if(b.ended)b.ended=!1;d(b._elem,"playing");break;case "PAUSED":if(!b.paused&&!b.stopPlayPause)b.paused=!0,b._ppFlag=!0,d(b._elem,"pause");break;case "COMPLETED":4>b.readyState&&n(4,b),b.ended=!0,d(b._elem,"ended")}}},Controller:{ERROR:function(b){var a=q(b.id);a&&c.setError(a._elem,b.message)},SEEK:function(b){var a=q(b.id);if(a){if(a.ended)a.ended=!1;if(a.paused)try{a.jwapi.sendEvent("play","false")}catch(c){}if(a.currentTime!=
b.position)a.currentTime=b.position,d(a._elem,"timeupdate")}},VOLUME:function(b){var a=q(b.id);if(a&&(b=b.percentage/100,a.volume!=b))a.volume=b,d(a._elem,"volumechange")},MUTE:function(b){if(!b.state){var a=q(b.id);if(a&&a.muted!=b.state)a.muted=b.state,d(a._elem,"volumechange")}}}};var E=function(a){var d=!0;b.each(c.jwEvents,function(c,e){b.each(e,function(b){try{a.jwapi["add"+c+"Listener"](b,"jQuery.webshims.mediaelement.jwEvents."+c+"."+b)}catch(e){return d=!1}})});return d},B=function(b){var a=
b.actionQueue.length,c=0,d;if(a&&"third"==b.isActive)for(;b.actionQueue.length&&a>c;)c++,d=b.actionQueue.shift(),b.jwapi[d.fn].apply(b.jwapi,d.args);if(b.actionQueue.length)b.actionQueue=[]},G=function(a){a&&(a._ppFlag===h&&b.prop(a._elem,"autoplay")||!a.paused)&&setTimeout(function(){if("third"==a.isActive&&(a._ppFlag===h||!a.paused))try{b(a._elem).play()}catch(c){}},1)},K=function(a){if(a&&"video"==a._elemNodeName){var c,d,e,f,t,r,g,i,h=function(h,u){if(u&&h&&!(1>u||1>h||"third"!=a.isActive))if(c&&
(c.remove(),c=!1),f=h,t=u,clearTimeout(g),d="auto"==a._elem.style.width,e="auto"==a._elem.style.height,d||e){r=r||b(a._elem).getShadowElement();var j;d&&!e?(j=r.height(),h*=j/u,u=j):!d&&e&&(j=r.width(),u*=j/h,h=j);i=!0;setTimeout(function(){i=!1},9);r.css({width:h,height:u})}},j=function(){if(!("third"!=a.isActive||b.prop(a._elem,"readyState")&&b.prop(this,"videoWidth"))){var f=b.prop(a._elem,"poster");if(f&&(d="auto"==a._elem.style.width,e="auto"==a._elem.style.height,d||e))c&&(c.remove(),c=!1),
c=b('<img style="position: absolute; height: auto; width: auto; top: 0px; left: 0px; visibility: hidden;" />'),c.bind("load error alreadycomplete",function(){clearTimeout(g);var a=this,d=a.naturalWidth||a.width||a.offsetWidth,e=a.naturalHeight||a.height||a.offsetHeight;e&&d?(h(d,e),a=null):setTimeout(function(){d=a.naturalWidth||a.width||a.offsetWidth;e=a.naturalHeight||a.height||a.offsetHeight;h(d,e);c&&(c.remove(),c=!1);a=null},9);b(this).unbind()}).prop("src",f).appendTo("body").each(function(){this.complete||
this.error?b(this).triggerHandler("alreadycomplete"):(clearTimeout(g),g=setTimeout(function(){b(a._elem).triggerHandler("error")},9999))})}};b(a._elem).bind("loadedmetadata",function(){h(b.prop(this,"videoWidth"),b.prop(this,"videoHeight"))}).bind("emptied",j).bind("swfstageresize updatemediaelementdimensions",function(){i||h(f,t)}).bind("emptied",function(){f=void 0;t=void 0}).triggerHandler("swfstageresize");j();b.prop(a._elem,"readyState")&&h(b.prop(a._elem,"videoWidth"),b.prop(a._elem,"videoHeight"))}};
c.playerResize=function(a){a&&(a=j.getElementById(a.replace(s,"")))&&b(a).triggerHandler("swfstageresize")};b(j).bind("emptied",function(a){a=o(a.target);G(a)});var D;c.jwPlayerReady=function(c){var d=q(c.id),e=0,f=function(){if(!(9<e))if(e++,E(d)){if(d.wasSwfReady)b(d._elem).mediaLoad();else{var g=parseFloat(c.version,10);(5.6>g||6<=g)&&a.warn("mediaelement-swf is only testet with jwplayer 5.6+")}d.wasSwfReady=!0;d.tryedReframeing=0;B(d);G(d)}else clearTimeout(d.reframeTimer),d.reframeTimer=setTimeout(f,
9*e),2<e&&9>d.tryedReframeing&&(d.tryedReframeing++,d.shadowElem.css({overflow:"visible"}),setTimeout(function(){d.shadowElem.css({overflow:"hidden"})},16))};if(d&&d.jwapi){if(!d.tryedReframeing)d.tryedReframeing=0;clearTimeout(D);d.jwData=c;d.shadowElem.removeClass("flashblocker-assumed");b.prop(d._elem,"volume",d.volume);b.prop(d._elem,"muted",d.muted);f()}};var l=b.noop;if(i){var L={play:1,playing:1},H="play,pause,playing,canplay,progress,waiting,ended,loadedmetadata,durationchange,emptied".split(","),
I=H.map(function(a){return a+".webshimspolyfill"}).join(" "),M=function(c){var d=a.data(c.target,"mediaelement");d&&(c.originalEvent&&c.originalEvent.type===c.type)==("third"==d.activating)&&(c.stopImmediatePropagation(),L[c.type]&&d.isActive!=d.activating&&b(c.target).pause())},l=function(c){b(c).unbind(I).bind(I,M);H.forEach(function(b){a.moveToFirstEvent(c,b)})};l(j)}c.setActive=function(c,d,e){e||(e=a.data(c,"mediaelement"));if(e&&e.isActive!=d){"html5"!=d&&"third"!=d&&a.warn("wrong type for mediaelement activating: "+
d);var f=a.data(c,"shadowData");e.activating=d;b(c).pause();e.isActive=d;"third"==d?(f.shadowElement=f.shadowFocusElement=e.shadowElem[0],b(c).addClass("swf-api-active nonnative-api-active").hide().getShadowElement().show()):(b(c).removeClass("swf-api-active nonnative-api-active").show().getShadowElement().hide(),f.shadowElement=f.shadowFocusElement=!1);b(c).trigger("mediaelementapichange")}};var N=function(){var a="_bufferedEnd,_bufferedStart,_metadata,_ppFlag,currentSrc,currentTime,duration,ended,networkState,paused,videoHeight,videoWidth,_callMeta,_durationCalcs".split(","),
b=a.length;return function(c){if(c){var e=b,f=c.networkState;for(n(0,c);--e;)delete c[a[e]];c.actionQueue=[];c.buffered.length=0;f&&d(c._elem,"emptied")}}}(),F=function(a,c){var d=a._elem,e=a.shadowElem;b(d)[c?"addClass":"removeClass"]("webshims-controls");"audio"==a._elemNodeName&&!c?e.css({width:0,height:0}):e.css({width:d.style.width||b(d).width(),height:d.style.height||b(d).height()})};c.createSWF=function(d,k,g){if(w){1>f?f=1:f++;var h=b.extend({},e.jwVars,{image:b.prop(d,"poster")||"",file:k.srcProp}),
j=b(d).data("jwvars")||{};g||(g=a.data(d,"mediaelement"));if(g&&g.swfCreated)c.setActive(d,"third",g),N(g),g.currentSrc=k.srcProp,b.extend(h,j),e.changeJW(h,d,k,g,"load"),A(d,"sendEvent",["LOAD",h]);else{var t=b.prop(d,"controls"),r="jwplayer-"+a.getID(d),o=b.extend({},e.jwParams,b(d).data("jwparams")),n=d.nodeName.toLowerCase(),q=b.extend({},e.jwAttrs,{name:r,id:r},b(d).data("jwattrs")),p=b('<div class="polyfill-'+n+' polyfill-mediaelement" id="wrapper-'+r+'"><div id="'+r+'"></div>').css({position:"relative",
overflow:"hidden"}),g=a.data(d,"mediaelement",a.objectCreate(m,{actionQueue:{value:[]},shadowElem:{value:p},_elemNodeName:{value:n},_elem:{value:d},currentSrc:{value:k.srcProp},swfCreated:{value:!0},buffered:{value:{start:function(b){if(b>=g.buffered.length)a.error("buffered index size error");else return 0},end:function(b){if(b>=g.buffered.length)a.error("buffered index size error");else return(g.duration-g._bufferedStart)*g._bufferedEnd/100+g._bufferedStart},length:0}}}));F(g,t);p.insertBefore(d);
i&&b.extend(g,{volume:b.prop(d,"volume"),muted:b.prop(d,"muted")});b.extend(h,{id:r,controlbar:t?e.jwVars.controlbar||("video"==n?"over":"bottom"):"video"==n?"none":"bottom",icons:""+(t&&"video"==n)},j,{playerready:"jQuery.webshims.mediaelement.jwPlayerReady"});h.plugins=h.plugins?h.plugins+(","+y):y;a.addShadowDom(d,p);l(d);c.setActive(d,"third",g);e.changeJW(h,d,k,g,"embed");b(d).bind("updatemediaelementdimensions",function(){F(g,b.prop(d,"controls"))});K(g);C.embedSWF(v,r,"100%","100%","9.0.0",
!1,h,o,q,function(c){if(c.success)g.jwapi=c.ref,t||b(c.ref).attr("tabindex","-1").css("outline","none"),setTimeout(function(){if(!c.ref.parentNode&&p[0].parentNode||"none"==c.ref.style.display)p.addClass("flashblocker-assumed"),b(d).trigger("flashblocker"),a.warn("flashblocker assumed");b(c.ref).css({minHeight:"2px",minWidth:"2px",display:"block"})},9),D||(clearTimeout(D),D=setTimeout(function(){var d=b(c.ref);1<d[0].offsetWidth&&1<d[0].offsetHeight&&0===location.protocol.indexOf("file:")?a.error("Add your local development-directory to the local-trusted security sandbox:  http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html"):
(2>d[0].offsetWidth||2>d[0].offsetHeight)&&a.info("JS-SWF connection can't be established on hidden or unconnected flash objects")},8E3))})}}else setTimeout(function(){b(d).mediaLoad()},1)};var A=function(a,b,c,d){return(d=d||o(a))?(d.jwapi&&d.jwapi[b]?d.jwapi[b].apply(d.jwapi,c||[]):(d.actionQueue.push({fn:b,args:c}),10<d.actionQueue.length&&setTimeout(function(){5<d.actionQueue.length&&d.actionQueue.shift()},99)),d):!1};["audio","video"].forEach(function(c){var e={},f,g=function(a){"audio"==c&&
("videoHeight"==a||"videoWidth"==a)||(e[a]={get:function(){var b=o(this);return b?b[a]:i&&f[a].prop._supget?f[a].prop._supget.apply(this):m[a]},writeable:!1})},h=function(a,b){g(a);delete e[a].writeable;e[a].set=b};h("volume",function(b){var c=o(this);if(c){if(b*=100,!isNaN(b)){var e=c.muted;(0>b||100<b)&&a.error("volume greater or less than allowed "+b/100);A(this,"sendEvent",["VOLUME",b],c);if(e)try{c.jwapi.sendEvent("mute","true")}catch(g){}b/=100;if(!(c.volume==b||"third"!=c.isActive))c.volume=
b,d(c._elem,"volumechange")}}else if(f.volume.prop._supset)return f.volume.prop._supset.apply(this,arguments)});h("muted",function(a){var b=o(this);if(b){if(a=!!a,A(this,"sendEvent",["mute",""+a],b),!(b.muted==a||"third"!=b.isActive))b.muted=a,d(b._elem,"volumechange")}else if(f.muted.prop._supset)return f.muted.prop._supset.apply(this,arguments)});h("currentTime",function(a){var b=o(this);if(b){if(a*=1,!isNaN(a)){if(b.paused)clearTimeout(b.stopPlayPause),b.stopPlayPause=setTimeout(function(){b.paused=
!0;b.stopPlayPause=!1},50);A(this,"sendEvent",["SEEK",""+a],b);if(b.paused){if(0<b.readyState)b.currentTime=a,d(b._elem,"timeupdate");try{b.jwapi.sendEvent("play","false")}catch(c){}}}}else if(f.currentTime.prop._supset)return f.currentTime.prop._supset.apply(this,arguments)});["play","pause"].forEach(function(a){e[a]={value:function(){var b=o(this);if(b)b.stopPlayPause&&clearTimeout(b.stopPlayPause),A(this,"sendEvent",["play","play"==a],b),setTimeout(function(){if("third"==b.isActive&&(b._ppFlag=
!0,b.paused!=("play"!=a)))b.paused="play"!=a,d(b._elem,a)},1);else if(f[a].prop._supvalue)return f[a].prop._supvalue.apply(this,arguments)}}});p.forEach(g);a.onNodeNamesPropertyModify(c,"controls",function(d,e){var f=o(this);b(this)[e?"addClass":"removeClass"]("webshims-controls");if(f){try{A(this,e?"showControls":"hideControls",[c],f)}catch(g){a.warn("you need to generate a crossdomain.xml")}"audio"==c&&F(f,e);b(f.jwapi).attr("tabindex",e?"0":"-1")}});f=a.defineNodeNameProperties(c,e,"prop")});if(w){var O=
b.cleanData,P=b.browser.msie&&9>a.browserVersion,Q={object:1,OBJECT:1};b.cleanData=function(a){var b,c,d;if(a&&(c=a.length)&&f)for(b=0;b<c;b++)if(Q[a[b].nodeName]){if("sendEvent"in a[b]){f--;try{a[b].sendEvent("play",!1)}catch(e){}}if(P)try{for(d in a[b])"function"==typeof a[b][d]&&(a[b][d]=null)}catch(g){}}return O.apply(this,arguments)}}i||(["poster","src"].forEach(function(b){a.defineNodeNameProperty("src"==b?["audio","video","source"]:["video"],b,{reflect:!0,propType:"src"})}),["autoplay","controls"].forEach(function(b){a.defineNodeNamesBooleanProperty(["audio",
"video"],b)}),a.defineNodeNamesProperties(["audio","video"],{HAVE_CURRENT_DATA:{value:2},HAVE_ENOUGH_DATA:{value:4},HAVE_FUTURE_DATA:{value:3},HAVE_METADATA:{value:1},HAVE_NOTHING:{value:0},NETWORK_EMPTY:{value:0},NETWORK_IDLE:{value:1},NETWORK_LOADING:{value:2},NETWORK_NO_SOURCE:{value:3}},"prop"))});
